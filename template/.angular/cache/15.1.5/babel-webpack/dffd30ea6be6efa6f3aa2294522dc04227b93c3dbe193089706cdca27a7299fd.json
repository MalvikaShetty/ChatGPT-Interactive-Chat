{"ast":null,"code":"\"use strict\";\n\nvar traitName = \"expandPair\";\nvar mergeSort = require(\"../merge-sort.js\");\nvar _require = require(\"../doc-utils.js\"),\n  getLeft = _require.getLeft,\n  getRight = _require.getRight;\nvar wrapper = require(\"../module-wrapper.js\");\nvar _require2 = require(\"../traits.js\"),\n  getExpandToDefault = _require2.getExpandToDefault;\nvar _require3 = require(\"../errors.js\"),\n  getUnmatchedLoopException = _require3.getUnmatchedLoopException,\n  getClosingTagNotMatchOpeningTag = _require3.getClosingTagNotMatchOpeningTag,\n  getUnbalancedLoopException = _require3.getUnbalancedLoopException;\nfunction getOpenCountChange(part) {\n  switch (part.location) {\n    case \"start\":\n      return 1;\n    case \"end\":\n      return -1;\n  }\n}\nfunction match(start, end) {\n  return start != null && end != null && (start.part.location === \"start\" && end.part.location === \"end\" && start.part.value === end.part.value || end.part.value === \"\");\n}\nfunction transformer(traits) {\n  var i = 0;\n  var errors = [];\n  while (i < traits.length) {\n    var part = traits[i].part;\n    if (part.location === \"end\") {\n      if (i === 0) {\n        traits.splice(0, 1);\n        errors.push(getUnmatchedLoopException(part));\n        return {\n          traits: traits,\n          errors: errors\n        };\n      }\n      var endIndex = i;\n      var startIndex = i - 1;\n      var offseter = 1;\n      if (match(traits[startIndex], traits[endIndex])) {\n        traits.splice(endIndex, 1);\n        traits.splice(startIndex, 1);\n        return {\n          errors: errors,\n          traits: traits\n        };\n      }\n      while (offseter < 50) {\n        var startCandidate = traits[startIndex - offseter];\n        var endCandidate = traits[endIndex + offseter];\n        if (match(startCandidate, traits[endIndex])) {\n          traits.splice(endIndex, 1);\n          traits.splice(startIndex - offseter, 1);\n          return {\n            errors: errors,\n            traits: traits\n          };\n        }\n        if (match(traits[startIndex], endCandidate)) {\n          traits.splice(endIndex + offseter, 1);\n          traits.splice(startIndex, 1);\n          return {\n            errors: errors,\n            traits: traits\n          };\n        }\n        offseter++;\n      }\n      errors.push(getClosingTagNotMatchOpeningTag({\n        tags: [traits[startIndex].part, traits[endIndex].part]\n      }));\n      traits.splice(endIndex, 1);\n      traits.splice(startIndex, 1);\n      return {\n        traits: traits,\n        errors: errors\n      };\n    }\n    i++;\n  }\n  traits.forEach(function (_ref) {\n    var part = _ref.part;\n    errors.push(getUnmatchedLoopException(part));\n  });\n  return {\n    traits: [],\n    errors: errors\n  };\n}\nfunction getPairs(traits) {\n  var levelTraits = {};\n  var errors = [];\n  var pairs = [];\n  var transformedTraits = [];\n  for (var i = 0; i < traits.length; i++) {\n    transformedTraits.push(traits[i]);\n  }\n  while (transformedTraits.length > 0) {\n    var result = transformer(transformedTraits);\n    errors = errors.concat(result.errors);\n    transformedTraits = result.traits;\n  }\n\n  // Stryker disable all : because this check makes the function return quicker\n  if (errors.length > 0) {\n    return {\n      pairs: pairs,\n      errors: errors\n    };\n  }\n  // Stryker restore all\n  var countOpen = 0;\n  for (var _i = 0; _i < traits.length; _i++) {\n    var currentTrait = traits[_i];\n    var part = currentTrait.part;\n    var change = getOpenCountChange(part);\n    countOpen += change;\n    if (change === 1) {\n      levelTraits[countOpen] = currentTrait;\n    } else {\n      var startTrait = levelTraits[countOpen + 1];\n      if (countOpen === 0) {\n        pairs = pairs.concat([[startTrait, currentTrait]]);\n      }\n    }\n    countOpen = countOpen >= 0 ? countOpen : 0;\n  }\n  return {\n    pairs: pairs,\n    errors: errors\n  };\n}\nvar expandPairTrait = {\n  name: \"ExpandPairTrait\",\n  optionsTransformer: function optionsTransformer(options, docxtemplater) {\n    this.expandTags = docxtemplater.fileTypeConfig.expandTags.concat(docxtemplater.options.paragraphLoop ? docxtemplater.fileTypeConfig.onParagraphLoop : []);\n    return options;\n  },\n  postparse: function postparse(postparsed, _ref2) {\n    var _this = this;\n    var getTraits = _ref2.getTraits,\n      postparse = _ref2.postparse;\n    var traits = getTraits(traitName, postparsed);\n    traits = traits.map(function (trait) {\n      return trait || [];\n    });\n    traits = mergeSort(traits);\n    var _getPairs = getPairs(traits),\n      pairs = _getPairs.pairs,\n      errors = _getPairs.errors;\n    var lastRight = 0;\n    var lastPair = null;\n    var expandedPairs = pairs.map(function (pair) {\n      var expandTo = pair[0].part.expandTo;\n      if (expandTo === \"auto\") {\n        var result = getExpandToDefault(postparsed, pair, _this.expandTags);\n        if (result.error) {\n          errors.push(result.error);\n        }\n        expandTo = result.value;\n      }\n      if (!expandTo) {\n        var _left = pair[0].offset;\n        var _right = pair[1].offset;\n        if (_left < lastRight) {\n          errors.push(getUnbalancedLoopException(pair, lastPair));\n        }\n        lastPair = pair;\n        lastRight = _right;\n        return [_left, _right];\n      }\n      var left, right;\n      try {\n        left = getLeft(postparsed, expandTo, pair[0].offset);\n      } catch (e) {\n        errors.push(e);\n      }\n      try {\n        right = getRight(postparsed, expandTo, pair[1].offset);\n      } catch (e) {\n        errors.push(e);\n      }\n      if (left < lastRight) {\n        errors.push(getUnbalancedLoopException(pair, lastPair));\n      }\n      lastRight = right;\n      lastPair = pair;\n      return [left, right];\n    });\n\n    // Stryker disable all : because this check makes the function return quicker\n    if (errors.length > 0) {\n      return {\n        postparsed: postparsed,\n        errors: errors\n      };\n    }\n    // Stryker restore all\n\n    var currentPairIndex = 0;\n    var innerParts;\n    var newParsed = postparsed.reduce(function (newParsed, part, i) {\n      var inPair = currentPairIndex < pairs.length && expandedPairs[currentPairIndex][0] <= i && i <= expandedPairs[currentPairIndex][1];\n      var pair = pairs[currentPairIndex];\n      var expandedPair = expandedPairs[currentPairIndex];\n      if (!inPair) {\n        newParsed.push(part);\n        return newParsed;\n      }\n      if (expandedPair[0] === i) {\n        innerParts = [];\n      }\n      if (pair[0].offset !== i && pair[1].offset !== i) {\n        innerParts.push(part);\n      }\n      if (expandedPair[1] === i) {\n        var basePart = postparsed[pair[0].offset];\n        basePart.subparsed = postparse(innerParts, {\n          basePart: basePart\n        });\n        delete basePart.location;\n        delete basePart.expandTo;\n        newParsed.push(basePart);\n        currentPairIndex++;\n      }\n      return newParsed;\n    }, []);\n    return {\n      postparsed: newParsed,\n      errors: errors\n    };\n  }\n};\nmodule.exports = function () {\n  return wrapper(expandPairTrait);\n};","map":{"version":3,"names":["traitName","mergeSort","require","_require","getLeft","getRight","wrapper","_require2","getExpandToDefault","_require3","getUnmatchedLoopException","getClosingTagNotMatchOpeningTag","getUnbalancedLoopException","getOpenCountChange","part","location","match","start","end","value","transformer","traits","i","errors","length","splice","push","endIndex","startIndex","offseter","startCandidate","endCandidate","tags","forEach","_ref","getPairs","levelTraits","pairs","transformedTraits","result","concat","countOpen","_i","currentTrait","change","startTrait","expandPairTrait","name","optionsTransformer","options","docxtemplater","expandTags","fileTypeConfig","paragraphLoop","onParagraphLoop","postparse","postparsed","_ref2","_this","getTraits","map","trait","_getPairs","lastRight","lastPair","expandedPairs","pair","expandTo","error","_left","offset","_right","left","right","e","currentPairIndex","innerParts","newParsed","reduce","inPair","expandedPair","basePart","subparsed","module","exports"],"sources":["C:/Users/malvi/Angular/template/node_modules/docxtemplater/js/modules/expand-pair-trait.js"],"sourcesContent":["\"use strict\";\n\nvar traitName = \"expandPair\";\nvar mergeSort = require(\"../merge-sort.js\");\nvar _require = require(\"../doc-utils.js\"),\n  getLeft = _require.getLeft,\n  getRight = _require.getRight;\nvar wrapper = require(\"../module-wrapper.js\");\nvar _require2 = require(\"../traits.js\"),\n  getExpandToDefault = _require2.getExpandToDefault;\nvar _require3 = require(\"../errors.js\"),\n  getUnmatchedLoopException = _require3.getUnmatchedLoopException,\n  getClosingTagNotMatchOpeningTag = _require3.getClosingTagNotMatchOpeningTag,\n  getUnbalancedLoopException = _require3.getUnbalancedLoopException;\nfunction getOpenCountChange(part) {\n  switch (part.location) {\n    case \"start\":\n      return 1;\n    case \"end\":\n      return -1;\n  }\n}\nfunction match(start, end) {\n  return start != null && end != null && (start.part.location === \"start\" && end.part.location === \"end\" && start.part.value === end.part.value || end.part.value === \"\");\n}\nfunction transformer(traits) {\n  var i = 0;\n  var errors = [];\n  while (i < traits.length) {\n    var part = traits[i].part;\n    if (part.location === \"end\") {\n      if (i === 0) {\n        traits.splice(0, 1);\n        errors.push(getUnmatchedLoopException(part));\n        return {\n          traits: traits,\n          errors: errors\n        };\n      }\n      var endIndex = i;\n      var startIndex = i - 1;\n      var offseter = 1;\n      if (match(traits[startIndex], traits[endIndex])) {\n        traits.splice(endIndex, 1);\n        traits.splice(startIndex, 1);\n        return {\n          errors: errors,\n          traits: traits\n        };\n      }\n      while (offseter < 50) {\n        var startCandidate = traits[startIndex - offseter];\n        var endCandidate = traits[endIndex + offseter];\n        if (match(startCandidate, traits[endIndex])) {\n          traits.splice(endIndex, 1);\n          traits.splice(startIndex - offseter, 1);\n          return {\n            errors: errors,\n            traits: traits\n          };\n        }\n        if (match(traits[startIndex], endCandidate)) {\n          traits.splice(endIndex + offseter, 1);\n          traits.splice(startIndex, 1);\n          return {\n            errors: errors,\n            traits: traits\n          };\n        }\n        offseter++;\n      }\n      errors.push(getClosingTagNotMatchOpeningTag({\n        tags: [traits[startIndex].part, traits[endIndex].part]\n      }));\n      traits.splice(endIndex, 1);\n      traits.splice(startIndex, 1);\n      return {\n        traits: traits,\n        errors: errors\n      };\n    }\n    i++;\n  }\n  traits.forEach(function (_ref) {\n    var part = _ref.part;\n    errors.push(getUnmatchedLoopException(part));\n  });\n  return {\n    traits: [],\n    errors: errors\n  };\n}\nfunction getPairs(traits) {\n  var levelTraits = {};\n  var errors = [];\n  var pairs = [];\n  var transformedTraits = [];\n  for (var i = 0; i < traits.length; i++) {\n    transformedTraits.push(traits[i]);\n  }\n  while (transformedTraits.length > 0) {\n    var result = transformer(transformedTraits);\n    errors = errors.concat(result.errors);\n    transformedTraits = result.traits;\n  }\n\n  // Stryker disable all : because this check makes the function return quicker\n  if (errors.length > 0) {\n    return {\n      pairs: pairs,\n      errors: errors\n    };\n  }\n  // Stryker restore all\n  var countOpen = 0;\n  for (var _i = 0; _i < traits.length; _i++) {\n    var currentTrait = traits[_i];\n    var part = currentTrait.part;\n    var change = getOpenCountChange(part);\n    countOpen += change;\n    if (change === 1) {\n      levelTraits[countOpen] = currentTrait;\n    } else {\n      var startTrait = levelTraits[countOpen + 1];\n      if (countOpen === 0) {\n        pairs = pairs.concat([[startTrait, currentTrait]]);\n      }\n    }\n    countOpen = countOpen >= 0 ? countOpen : 0;\n  }\n  return {\n    pairs: pairs,\n    errors: errors\n  };\n}\nvar expandPairTrait = {\n  name: \"ExpandPairTrait\",\n  optionsTransformer: function optionsTransformer(options, docxtemplater) {\n    this.expandTags = docxtemplater.fileTypeConfig.expandTags.concat(docxtemplater.options.paragraphLoop ? docxtemplater.fileTypeConfig.onParagraphLoop : []);\n    return options;\n  },\n  postparse: function postparse(postparsed, _ref2) {\n    var _this = this;\n    var getTraits = _ref2.getTraits,\n      postparse = _ref2.postparse;\n    var traits = getTraits(traitName, postparsed);\n    traits = traits.map(function (trait) {\n      return trait || [];\n    });\n    traits = mergeSort(traits);\n    var _getPairs = getPairs(traits),\n      pairs = _getPairs.pairs,\n      errors = _getPairs.errors;\n    var lastRight = 0;\n    var lastPair = null;\n    var expandedPairs = pairs.map(function (pair) {\n      var expandTo = pair[0].part.expandTo;\n      if (expandTo === \"auto\") {\n        var result = getExpandToDefault(postparsed, pair, _this.expandTags);\n        if (result.error) {\n          errors.push(result.error);\n        }\n        expandTo = result.value;\n      }\n      if (!expandTo) {\n        var _left = pair[0].offset;\n        var _right = pair[1].offset;\n        if (_left < lastRight) {\n          errors.push(getUnbalancedLoopException(pair, lastPair));\n        }\n        lastPair = pair;\n        lastRight = _right;\n        return [_left, _right];\n      }\n      var left, right;\n      try {\n        left = getLeft(postparsed, expandTo, pair[0].offset);\n      } catch (e) {\n        errors.push(e);\n      }\n      try {\n        right = getRight(postparsed, expandTo, pair[1].offset);\n      } catch (e) {\n        errors.push(e);\n      }\n      if (left < lastRight) {\n        errors.push(getUnbalancedLoopException(pair, lastPair));\n      }\n      lastRight = right;\n      lastPair = pair;\n      return [left, right];\n    });\n\n    // Stryker disable all : because this check makes the function return quicker\n    if (errors.length > 0) {\n      return {\n        postparsed: postparsed,\n        errors: errors\n      };\n    }\n    // Stryker restore all\n\n    var currentPairIndex = 0;\n    var innerParts;\n    var newParsed = postparsed.reduce(function (newParsed, part, i) {\n      var inPair = currentPairIndex < pairs.length && expandedPairs[currentPairIndex][0] <= i && i <= expandedPairs[currentPairIndex][1];\n      var pair = pairs[currentPairIndex];\n      var expandedPair = expandedPairs[currentPairIndex];\n      if (!inPair) {\n        newParsed.push(part);\n        return newParsed;\n      }\n      if (expandedPair[0] === i) {\n        innerParts = [];\n      }\n      if (pair[0].offset !== i && pair[1].offset !== i) {\n        innerParts.push(part);\n      }\n      if (expandedPair[1] === i) {\n        var basePart = postparsed[pair[0].offset];\n        basePart.subparsed = postparse(innerParts, {\n          basePart: basePart\n        });\n        delete basePart.location;\n        delete basePart.expandTo;\n        newParsed.push(basePart);\n        currentPairIndex++;\n      }\n      return newParsed;\n    }, []);\n    return {\n      postparsed: newParsed,\n      errors: errors\n    };\n  }\n};\nmodule.exports = function () {\n  return wrapper(expandPairTrait);\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}