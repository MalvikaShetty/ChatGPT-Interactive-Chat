{"ast":null,"code":"\"use strict\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) {\n        ;\n      }\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nvar _require = require(\"./doc-utils.js\"),\n  getRightOrNull = _require.getRightOrNull,\n  getRight = _require.getRight,\n  getLeft = _require.getLeft,\n  getLeftOrNull = _require.getLeftOrNull,\n  chunkBy = _require.chunkBy,\n  isTagStart = _require.isTagStart,\n  isTagEnd = _require.isTagEnd,\n  isContent = _require.isContent,\n  last = _require.last,\n  first = _require.first;\nvar _require2 = require(\"./errors.js\"),\n  XTTemplateError = _require2.XTTemplateError,\n  throwExpandNotFound = _require2.throwExpandNotFound,\n  getLoopPositionProducesInvalidXMLError = _require2.getLoopPositionProducesInvalidXMLError;\nfunction lastTagIsOpenTag(tags, tag) {\n  if (tags.length === 0) {\n    return false;\n  }\n  var innerLastTag = last(tags).substr(1);\n  return innerLastTag.indexOf(tag) === 0;\n}\nfunction getListXmlElements(parts) {\n  /*\n  Gets the list of closing and opening tags between two texts. It doesn't take\n  into account tags that are opened then closed. Those that are closed then\n  opened are kept\n  \tExample input :\n  \t[\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"table1\",\n  \t\t...\n  \t},\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"t1data1\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"position\": \"end\",\n  \t\t\"text\": true,\n  \t\t\"value\": \"</w:t>\",\n  \t\t\"tag\": \"w:t\",\n  \t\t\"lIndex\": 112\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:r>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:p>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:tc>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:tc>\",\n  \t},\n  \t{\n  \t\t\"type\": \"content\",\n  \t\t\"value\": \"<w:tcPr><w:tcW w:w=\"2444\" w:type=\"dxa\"/><w:tcBorders><w:top w:val=\"nil\"/><w:left w:val=\"nil\"/><w:bottom w:val=\"nil\"/><w:right w:val=\"nil\"/></w:tcBorders><w:shd w:val=\"clear\" w:color=\"auto\" w:fill=\"FFFFFF\"/></w:tcPr>\",\n  \t},\n  \t...\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:r>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:t xml:space=\"preserve\">\",\n  \t},\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"t1data4\",\n  \t}\n  ]\n  \treturns\n  \t[\n  \t\t{\n  \t\t\t\"tag\": \"</w:t>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:r>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:p>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:tc>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:tc>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:p>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:r>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:t>\",\n  \t\t},\n  \t]\n  */\n\n  var result = [];\n  for (var i = 0; i < parts.length; i++) {\n    var _parts$i = parts[i],\n      position = _parts$i.position,\n      value = _parts$i.value,\n      tag = _parts$i.tag;\n    // Stryker disable all : because removing this condition would also work but we want to make the API future proof\n    if (!tag) {\n      continue;\n    }\n    // Stryker restore all\n    if (position === \"end\") {\n      if (lastTagIsOpenTag(result, tag)) {\n        result.pop();\n      } else {\n        result.push(value);\n      }\n    } else if (position === \"start\") {\n      result.push(value);\n    }\n    // ignore position === \"selfclosing\"\n  }\n\n  return result;\n}\nfunction has(name, xmlElements) {\n  for (var i = 0; i < xmlElements.length; i++) {\n    var xmlElement = xmlElements[i];\n    if (xmlElement.indexOf(\"<\".concat(name)) === 0) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getExpandToDefault(postparsed, pair, expandTags) {\n  var parts = postparsed.slice(pair[0].offset, pair[1].offset);\n  var xmlElements = getListXmlElements(parts);\n  var closingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] === \"/\";\n  }).length;\n  var startingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] !== \"/\" && tag[tag.length - 2] !== \"/\";\n  }).length;\n  if (closingTagCount !== startingTagCount) {\n    return {\n      error: getLoopPositionProducesInvalidXMLError({\n        tag: first(pair).part.value,\n        offset: [first(pair).part.offset, last(pair).part.offset]\n      })\n    };\n  }\n  var _loop = function _loop(i, len) {\n    var _expandTags$i = expandTags[i],\n      contains = _expandTags$i.contains,\n      expand = _expandTags$i.expand,\n      onlyTextInTag = _expandTags$i.onlyTextInTag;\n    if (has(contains, xmlElements)) {\n      if (onlyTextInTag) {\n        var left = getLeftOrNull(postparsed, contains, pair[0].offset);\n        var right = getRightOrNull(postparsed, contains, pair[1].offset);\n        if (left === null || right === null) {\n          return \"continue\";\n        }\n        var chunks = chunkBy(postparsed.slice(left, right), function (p) {\n          return isTagStart(contains, p) ? \"start\" : isTagEnd(contains, p) ? \"end\" : null;\n        });\n        var firstChunk = first(chunks);\n        var lastChunk = last(chunks);\n        var firstContent = firstChunk.filter(isContent);\n        var lastContent = lastChunk.filter(isContent);\n        if (firstContent.length !== 1 || lastContent.length !== 1) {\n          return \"continue\";\n        }\n      }\n      return {\n        v: {\n          value: expand\n        }\n      };\n    }\n  };\n  for (var i = 0, len = expandTags.length; i < len; i++) {\n    var _ret = _loop(i, len);\n    if (_ret === \"continue\") continue;\n    if (_typeof(_ret) === \"object\") return _ret.v;\n  }\n  return {};\n}\nfunction getExpandLimit(part, index, postparsed, options) {\n  var expandTo = part.expandTo || options.expandTo;\n  // Stryker disable all : because this condition can be removed in v4 (the only usage was the image module before version 3.12.3 of the image module\n  if (!expandTo) {\n    return;\n  }\n  // Stryker restore all\n  var right, left;\n  try {\n    left = getLeft(postparsed, expandTo, index);\n    right = getRight(postparsed, expandTo, index);\n  } catch (rootError) {\n    if (rootError instanceof XTTemplateError) {\n      throwExpandNotFound(_objectSpread({\n        part: part,\n        rootError: rootError,\n        postparsed: postparsed,\n        expandTo: expandTo,\n        index: index\n      }, options.error));\n    }\n    throw rootError;\n  }\n  return [left, right];\n}\nfunction expandOne(_ref, part, postparsed, options) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    left = _ref2[0],\n    right = _ref2[1];\n  var index = postparsed.indexOf(part);\n  var leftParts = postparsed.slice(left, index);\n  var rightParts = postparsed.slice(index + 1, right + 1);\n  var inner = options.getInner({\n    postparse: options.postparse,\n    index: index,\n    part: part,\n    leftParts: leftParts,\n    rightParts: rightParts,\n    left: left,\n    right: right,\n    postparsed: postparsed\n  });\n  if (!inner.length) {\n    inner.expanded = [leftParts, rightParts];\n    inner = [inner];\n  }\n  return {\n    left: left,\n    right: right,\n    inner: inner\n  };\n}\nfunction expandToOne(postparsed, options) {\n  var errors = [];\n  if (postparsed.errors) {\n    errors = postparsed.errors;\n    postparsed = postparsed.postparsed;\n  }\n  var limits = [];\n  for (var i = 0, len = postparsed.length; i < len; i++) {\n    var part = postparsed[i];\n    if (part.type === \"placeholder\" && part.module === options.moduleName &&\n    // The part.subparsed check is used to fix this github issue :\n    // https://github.com/open-xml-templating/docxtemplater/issues/671\n    !part.subparsed) {\n      try {\n        var limit = getExpandLimit(part, i, postparsed, options);\n        if (!limit) {\n          continue;\n        }\n        var _limit = _slicedToArray(limit, 2),\n          left = _limit[0],\n          right = _limit[1];\n        limits.push({\n          left: left,\n          right: right,\n          part: part,\n          i: i,\n          leftPart: postparsed[left],\n          rightPart: postparsed[right]\n        });\n      } catch (error) {\n        if (error instanceof XTTemplateError) {\n          errors.push(error);\n        } else {\n          throw error;\n        }\n      }\n    }\n  }\n  limits.sort(function (l1, l2) {\n    if (l1.left === l2.left) {\n      return l2.part.lIndex < l1.part.lIndex ? 1 : -1;\n    }\n    return l2.left < l1.left ? 1 : -1;\n  });\n  var maxRight = -1;\n  var offset = 0;\n  limits.forEach(function (limit, i) {\n    var _postparsed;\n    maxRight = Math.max(maxRight, i > 0 ? limits[i - 1].right : 0);\n    if (limit.left < maxRight) {\n      return;\n    }\n    var result;\n    try {\n      result = expandOne([limit.left + offset, limit.right + offset], limit.part, postparsed, options);\n    } catch (error) {\n      if (error instanceof XTTemplateError) {\n        errors.push(error);\n      } else {\n        throw error;\n      }\n    }\n    if (!result) {\n      return;\n    }\n    offset += result.inner.length - (result.right + 1 - result.left);\n    (_postparsed = postparsed).splice.apply(_postparsed, [result.left, result.right + 1 - result.left].concat(_toConsumableArray(result.inner)));\n  });\n  return {\n    postparsed: postparsed,\n    errors: errors\n  };\n}\nmodule.exports = {\n  expandToOne: expandToOne,\n  getExpandToDefault: getExpandToDefault\n};","map":{"version":3,"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","len","length","arr2","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","_toPropertyKey","configurable","writable","arg","_toPrimitive","_typeof","String","input","hint","prim","toPrimitive","undefined","res","Number","_require","require","getRightOrNull","getRight","getLeft","getLeftOrNull","chunkBy","isTagStart","isTagEnd","isContent","last","first","_require2","XTTemplateError","throwExpandNotFound","getLoopPositionProducesInvalidXMLError","lastTagIsOpenTag","tags","tag","innerLastTag","substr","indexOf","getListXmlElements","parts","result","_parts$i","position","pop","has","xmlElements","xmlElement","concat","getExpandToDefault","postparsed","pair","expandTags","offset","closingTagCount","startingTagCount","error","part","_loop","_expandTags$i","contains","expand","onlyTextInTag","left","right","chunks","p","firstChunk","lastChunk","firstContent","lastContent","v","_ret","getExpandLimit","index","options","expandTo","rootError","expandOne","_ref","_ref2","leftParts","rightParts","inner","getInner","postparse","expanded","expandToOne","errors","limits","type","module","moduleName","subparsed","limit","_limit","leftPart","rightPart","sort","l1","l2","lIndex","maxRight","_postparsed","Math","max","splice","exports"],"sources":["C:/Users/malvi/Angular/template/node_modules/docxtemplater/js/traits.js"],"sourcesContent":["\"use strict\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar _require = require(\"./doc-utils.js\"),\n  getRightOrNull = _require.getRightOrNull,\n  getRight = _require.getRight,\n  getLeft = _require.getLeft,\n  getLeftOrNull = _require.getLeftOrNull,\n  chunkBy = _require.chunkBy,\n  isTagStart = _require.isTagStart,\n  isTagEnd = _require.isTagEnd,\n  isContent = _require.isContent,\n  last = _require.last,\n  first = _require.first;\nvar _require2 = require(\"./errors.js\"),\n  XTTemplateError = _require2.XTTemplateError,\n  throwExpandNotFound = _require2.throwExpandNotFound,\n  getLoopPositionProducesInvalidXMLError = _require2.getLoopPositionProducesInvalidXMLError;\nfunction lastTagIsOpenTag(tags, tag) {\n  if (tags.length === 0) {\n    return false;\n  }\n  var innerLastTag = last(tags).substr(1);\n  return innerLastTag.indexOf(tag) === 0;\n}\nfunction getListXmlElements(parts) {\n  /*\n  Gets the list of closing and opening tags between two texts. It doesn't take\n  into account tags that are opened then closed. Those that are closed then\n  opened are kept\n  \tExample input :\n  \t[\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"table1\",\n  \t\t...\n  \t},\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"t1data1\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"position\": \"end\",\n  \t\t\"text\": true,\n  \t\t\"value\": \"</w:t>\",\n  \t\t\"tag\": \"w:t\",\n  \t\t\"lIndex\": 112\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:r>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:p>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"</w:tc>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:tc>\",\n  \t},\n  \t{\n  \t\t\"type\": \"content\",\n  \t\t\"value\": \"<w:tcPr><w:tcW w:w=\"2444\" w:type=\"dxa\"/><w:tcBorders><w:top w:val=\"nil\"/><w:left w:val=\"nil\"/><w:bottom w:val=\"nil\"/><w:right w:val=\"nil\"/></w:tcBorders><w:shd w:val=\"clear\" w:color=\"auto\" w:fill=\"FFFFFF\"/></w:tcPr>\",\n  \t},\n  \t...\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:r>\",\n  \t},\n  \t{\n  \t\t\"type\": \"tag\",\n  \t\t\"value\": \"<w:t xml:space=\"preserve\">\",\n  \t},\n  \t{\n  \t\t\"type\": \"placeholder\",\n  \t\t\"value\": \"t1data4\",\n  \t}\n  ]\n  \treturns\n  \t[\n  \t\t{\n  \t\t\t\"tag\": \"</w:t>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:r>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:p>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"</w:tc>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:tc>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:p>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:r>\",\n  \t\t},\n  \t\t{\n  \t\t\t\"tag\": \"<w:t>\",\n  \t\t},\n  \t]\n  */\n\n  var result = [];\n  for (var i = 0; i < parts.length; i++) {\n    var _parts$i = parts[i],\n      position = _parts$i.position,\n      value = _parts$i.value,\n      tag = _parts$i.tag;\n    // Stryker disable all : because removing this condition would also work but we want to make the API future proof\n    if (!tag) {\n      continue;\n    }\n    // Stryker restore all\n    if (position === \"end\") {\n      if (lastTagIsOpenTag(result, tag)) {\n        result.pop();\n      } else {\n        result.push(value);\n      }\n    } else if (position === \"start\") {\n      result.push(value);\n    }\n    // ignore position === \"selfclosing\"\n  }\n\n  return result;\n}\nfunction has(name, xmlElements) {\n  for (var i = 0; i < xmlElements.length; i++) {\n    var xmlElement = xmlElements[i];\n    if (xmlElement.indexOf(\"<\".concat(name)) === 0) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getExpandToDefault(postparsed, pair, expandTags) {\n  var parts = postparsed.slice(pair[0].offset, pair[1].offset);\n  var xmlElements = getListXmlElements(parts);\n  var closingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] === \"/\";\n  }).length;\n  var startingTagCount = xmlElements.filter(function (tag) {\n    return tag[1] !== \"/\" && tag[tag.length - 2] !== \"/\";\n  }).length;\n  if (closingTagCount !== startingTagCount) {\n    return {\n      error: getLoopPositionProducesInvalidXMLError({\n        tag: first(pair).part.value,\n        offset: [first(pair).part.offset, last(pair).part.offset]\n      })\n    };\n  }\n  var _loop = function _loop(i, len) {\n    var _expandTags$i = expandTags[i],\n      contains = _expandTags$i.contains,\n      expand = _expandTags$i.expand,\n      onlyTextInTag = _expandTags$i.onlyTextInTag;\n    if (has(contains, xmlElements)) {\n      if (onlyTextInTag) {\n        var left = getLeftOrNull(postparsed, contains, pair[0].offset);\n        var right = getRightOrNull(postparsed, contains, pair[1].offset);\n        if (left === null || right === null) {\n          return \"continue\";\n        }\n        var chunks = chunkBy(postparsed.slice(left, right), function (p) {\n          return isTagStart(contains, p) ? \"start\" : isTagEnd(contains, p) ? \"end\" : null;\n        });\n        var firstChunk = first(chunks);\n        var lastChunk = last(chunks);\n        var firstContent = firstChunk.filter(isContent);\n        var lastContent = lastChunk.filter(isContent);\n        if (firstContent.length !== 1 || lastContent.length !== 1) {\n          return \"continue\";\n        }\n      }\n      return {\n        v: {\n          value: expand\n        }\n      };\n    }\n  };\n  for (var i = 0, len = expandTags.length; i < len; i++) {\n    var _ret = _loop(i, len);\n    if (_ret === \"continue\") continue;\n    if (_typeof(_ret) === \"object\") return _ret.v;\n  }\n  return {};\n}\nfunction getExpandLimit(part, index, postparsed, options) {\n  var expandTo = part.expandTo || options.expandTo;\n  // Stryker disable all : because this condition can be removed in v4 (the only usage was the image module before version 3.12.3 of the image module\n  if (!expandTo) {\n    return;\n  }\n  // Stryker restore all\n  var right, left;\n  try {\n    left = getLeft(postparsed, expandTo, index);\n    right = getRight(postparsed, expandTo, index);\n  } catch (rootError) {\n    if (rootError instanceof XTTemplateError) {\n      throwExpandNotFound(_objectSpread({\n        part: part,\n        rootError: rootError,\n        postparsed: postparsed,\n        expandTo: expandTo,\n        index: index\n      }, options.error));\n    }\n    throw rootError;\n  }\n  return [left, right];\n}\nfunction expandOne(_ref, part, postparsed, options) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    left = _ref2[0],\n    right = _ref2[1];\n  var index = postparsed.indexOf(part);\n  var leftParts = postparsed.slice(left, index);\n  var rightParts = postparsed.slice(index + 1, right + 1);\n  var inner = options.getInner({\n    postparse: options.postparse,\n    index: index,\n    part: part,\n    leftParts: leftParts,\n    rightParts: rightParts,\n    left: left,\n    right: right,\n    postparsed: postparsed\n  });\n  if (!inner.length) {\n    inner.expanded = [leftParts, rightParts];\n    inner = [inner];\n  }\n  return {\n    left: left,\n    right: right,\n    inner: inner\n  };\n}\nfunction expandToOne(postparsed, options) {\n  var errors = [];\n  if (postparsed.errors) {\n    errors = postparsed.errors;\n    postparsed = postparsed.postparsed;\n  }\n  var limits = [];\n  for (var i = 0, len = postparsed.length; i < len; i++) {\n    var part = postparsed[i];\n    if (part.type === \"placeholder\" && part.module === options.moduleName &&\n    // The part.subparsed check is used to fix this github issue :\n    // https://github.com/open-xml-templating/docxtemplater/issues/671\n    !part.subparsed) {\n      try {\n        var limit = getExpandLimit(part, i, postparsed, options);\n        if (!limit) {\n          continue;\n        }\n        var _limit = _slicedToArray(limit, 2),\n          left = _limit[0],\n          right = _limit[1];\n        limits.push({\n          left: left,\n          right: right,\n          part: part,\n          i: i,\n          leftPart: postparsed[left],\n          rightPart: postparsed[right]\n        });\n      } catch (error) {\n        if (error instanceof XTTemplateError) {\n          errors.push(error);\n        } else {\n          throw error;\n        }\n      }\n    }\n  }\n  limits.sort(function (l1, l2) {\n    if (l1.left === l2.left) {\n      return l2.part.lIndex < l1.part.lIndex ? 1 : -1;\n    }\n    return l2.left < l1.left ? 1 : -1;\n  });\n  var maxRight = -1;\n  var offset = 0;\n  limits.forEach(function (limit, i) {\n    var _postparsed;\n    maxRight = Math.max(maxRight, i > 0 ? limits[i - 1].right : 0);\n    if (limit.left < maxRight) {\n      return;\n    }\n    var result;\n    try {\n      result = expandOne([limit.left + offset, limit.right + offset], limit.part, postparsed, options);\n    } catch (error) {\n      if (error instanceof XTTemplateError) {\n        errors.push(error);\n      } else {\n        throw error;\n      }\n    }\n    if (!result) {\n      return;\n    }\n    offset += result.inner.length - (result.right + 1 - result.left);\n    (_postparsed = postparsed).splice.apply(_postparsed, [result.left, result.right + 1 - result.left].concat(_toConsumableArray(result.inner)));\n  });\n  return {\n    postparsed: postparsed,\n    errors: errors\n  };\n}\nmodule.exports = {\n  expandToOne: expandToOne,\n  getExpandToDefault: getExpandToDefault\n};"],"mappings":"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SC,gBAAgB,CAACC,IAAI,EAAEC,GAAG,EAAE;EACnC,IAAID,IAAI,CAACpE,MAAM,KAAK,CAAC,EAAE;IACrB,OAAO,KAAK;EACd;EACA,IAAIsE,YAAY,GAAGT,IAAI,CAACO,IAAI,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC;EACvC,OAAOD,YAAY,CAACE,OAAO,CAACH,GAAG,CAAC,KAAK,CAAC;AACxC;AACA,SAASI,kBAAkB,CAACC,KAAK,EAAE;EACjC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAEE,IAAIC,MAAM,GAAG,EAAE;EACf,KAAK,IAAI3F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0F,KAAK,CAAC1E,MAAM,EAAEhB,CAAC,EAAE,EAAE;IACrC,IAAI4F,QAAQ,GAAGF,KAAK,CAAC1F,CAAC,CAAC;MACrB6F,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;MAC5BhE,KAAK,GAAG+D,QAAQ,CAAC/D,KAAK;MACtBwD,GAAG,GAAGO,QAAQ,CAACP,GAAG;IACpB;IACA,IAAI,CAACA,GAAG,EAAE;MACR;IACF;IACA;IACA,IAAIQ,QAAQ,KAAK,KAAK,EAAE;MACtB,IAAIV,gBAAgB,CAACQ,MAAM,EAAEN,GAAG,CAAC,EAAE;QACjCM,MAAM,CAACG,GAAG,EAAE;MACd,CAAC,MAAM;QACLH,MAAM,CAAC/D,IAAI,CAACC,KAAK,CAAC;MACpB;IACF,CAAC,MAAM,IAAIgE,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"},"metadata":{},"sourceType":"script","externalDependencies":[]}